<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    <script type="text/javascript">
        // MDN websockt 文档
        function sendInfo(){
            console.log("start")
            // 协议标识符是ws
            var connection = new WebSocket("ws://localhost:8765/");

            // 发送数据
            connection.onopen = function (){
                connection.send("Hello server")
            };

            // 接收数据
            connection.onmessage = function (evt){
                var received_dataframe = evt.data
                 console.log(received_dataframe)
                 
                connection.close()
            };
            
            connection.onclose =  function(evt){
                console.log("websocket close");
            };

            connection.onerror = function(evt){
                console.error("WebSocket error observed:", evt);
            };

        }
    </script>
    <body>
    <button style="width: 300px;height: 300px" onclick="sendInfo()">发送数据</button>
    </body>
</html>